var imagoPager;imagoPager=function(){function t(t){return{scope:{posts:"=",next:"&",prev:"&",path:"@",pageSize:"@",tags:"=",currentPage:"="},templateUrl:"/imagoPager.html",controller:function(e){return this.fetchPosts=function(){var n,a;return n=parseInt(e.pageSize),console.log("currentPage",e.currentPage),a={path:e.path,page:e.currentPage,pagesize:n},e.tags&&(a.tags=e.tags),console.log("query",a),t.getData([a],{localData:!1}).then(function(){return function(t){var n,a,r,o;for(o=[],a=0,r=t.length;r>a;a++){n=t[a],console.log("collection",n),e.posts=n.assets,e.totalPages=n.count/n.assets.length;break}return o}}(this))},e.onNext=function(){return function(){return e.currentPage+=1,e.next()}}(this),e.onPrev=function(){return function(){return e.currentPage-=1,e.prev()}}(this),e.$watch("currentPage",this.fetchPosts),e.$watch("tag",this.fetchPosts)}}}return t}(),angular.module("imago").directive("imagoPager",["imagoModel",imagoPager]),angular.module("imago").run(["$templateCache",function(t){t.put("imagoPager.html",'<div class="pager"><button ng-disabled="currentPage &lt;= 1" ng-click="onPrev()">Previous</button><button ng-disabled="currentPage &gt;= totalPages" ng-click="onNext()">Next</button></div>')}]);
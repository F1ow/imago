var imagoPager;imagoPager=function(){function t(t,e,a,n){var r,u;return r="/imago/imagoPager.html",u=function(t){var e;return e=n.get(t,{cache:a})},{scope:{posts:"=",nextPage:"&next",prevPage:"&prev",path:"@",pageSize:"@",tags:"=",currentPage:"=",shuffle:"@"},controller:function(e,a,n){return this.fetchPosts=function(){var a,n,r,u;return this.count+=1,e.posts=[],r=parseInt(e.pageSize),n=parseInt(e.currentPage),u={path:e.path,page:n,pagesize:r},e.tags&&(u.tags=e.tags),(null!=u?u.path:void 0)&&_.includes(u.path,"/page/")&&(a=u.path.indexOf("/page/"),u.path=u.path.slice(0,a)),t.getData([u],{localData:!1}).then(function(t){return function(t){var a,n,u,o;for(o=[],n=0,u=t.length;u>n;n++){a=t[n],e.next=a.next,e.posts=e.shuffle?_.shuffle(a.assets):a.assets,e.totalPages=a.count/r;break}return o}}(this))},e.onPrev=function(t){return function(){return e.currentPage=parseInt(e.currentPage)-1,e.prevPage()()}}(this),e.onNext=function(t){return function(){return e.currentPage=parseInt(e.currentPage)+1,e.nextPage()()}}(this),e.$watchGroup(["currentPage","tags"],this.fetchPosts)},link:function(t,a,n){var o,g;return g=n.templateurl?n.templateurl:r,o=void 0,u(g).success(function(t){return o=t}).then(function(){return a.append(e(o)(t))})}}}return t}(),angular.module("imago").directive("imagoPager",["imagoModel","$compile","$templateCache","$http",imagoPager]),angular.module("imago").run(["$templateCache",function(t){t.put("/imago/imagoPager.html",'<div class="pager"><button ng-disabled="currentPage &lt;= 1" ng-click="onPrev()" class="prev">Previous</button><button ng-disabled="currentPage &gt;= totalPages || posts.length &lt; pageSize || !next" ng-click="onNext()" class="next">Next</button></div>')}]);
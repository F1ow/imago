var imagoPager;imagoPager=function(){function t(t,e,a,n){var r,g;return r="/imago/imagoPager.html",g=function(t){var e;return e=n.get(t,{cache:a})},{scope:{posts:"=",nextPage:"&next",prevPage:"&prev",path:"@",pageSize:"@",tags:"=",currentPage:"=",shuffle:"@"},templateUrl:"/imago/imagoPager.html",controller:function(e,a,n){return this.fetchPosts=function(){var a,n,r,g;return this.count+=1,e.posts=[],r=parseInt(e.pageSize),n=parseInt(e.currentPage),g={path:e.path,page:n,pagesize:r},e.tags&&(g.tags=e.tags),(null!=g?g.path:void 0)&&_.includes(g.path,"/page/")&&(a=g.path.indexOf("/page/"),g.path=g.path.slice(0,a)),t.getData([g],{localData:!1}).then(function(t){return function(t){var a,n,g,o;for(o=[],n=0,g=t.length;g>n;n++){a=t[n],e.next=a.next,e.posts=e.shuffle?_.shuffle(a.assets):a.assets,e.totalPages=a.count/r;break}return o}}(this))},e.onNext=function(t){return function(){return e.currentPage=parseInt(e.currentPage)+1,e.nextPage()()}}(this),e.onPrev=function(t){return function(){return e.currentPage=parseInt(e.currentPage)-1,e.prevPage()()}}(this),e.$watchGroup(["currentPage","tags"],this.fetchPosts)}}}return t}(),angular.module("imago").directive("imagoPager",["imagoModel","$compile","$templateCache","$http",imagoPager]),angular.module("imago").run(["$templateCache",function(t){t.put("/imago/imagoPager.html",'<div class="pager"><button ng-disabled="currentPage &lt;= 1" ng-click="onPrev()" class="prev">Previous</button><button ng-disabled="currentPage &gt;= totalPages || posts.length &lt; pageSize || !next" ng-click="onNext()" class="next">Next</button></div>')}]);
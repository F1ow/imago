var imagoPager,imagoPagerController;imagoPager=function(){function e(e,t,a){var n,r;return n="/imago/imagoPager.html",r=function(t){var n;return n=e.get(t,{cache:a})},{scope:{posts:"=",nextPage:"&next",prevPage:"&prev",path:"@",pageSize:"@",tags:"=",currentPage:"=",shuffle:"@"},controller:"imagoPagerController",link:function(e,a,o){var g,u;return u=o.templateurl?o.templateurl:n,g=void 0,r(u).success(function(e){return g=e}).then(function(){return a.append(t(g)(e))})}}}return e}(),imagoPagerController=function(){function e(e,t,a,n){this.fetchPosts=function(){var t,a,r,o;return this.count+=1,e.posts=[],r=parseInt(e.pageSize),a=parseInt(e.currentPage),o={path:e.path,page:a,pagesize:r},e.tags&&(o.tags=e.tags),(null!=o?o.path:void 0)&&_.includes(o.path,"/page/")&&(t=o.path.indexOf("/page/"),o.path=o.path.slice(0,t)),n.getData([o],{localData:!1}).then(function(t){return function(t){var a,n,o,g;for(g=[],n=0,o=t.length;o>n;n++){a=t[n],e.next=a.next,e.posts="true"===e.shuffle?_.shuffle(a.assets):a.assets,e.totalPages=a.count/r;break}return g}}(this))},e.onPrev=function(t){return function(){return e.currentPage=parseInt(e.currentPage)-1,e.prevPage()}}(this),e.onNext=function(t){return function(){return e.currentPage=parseInt(e.currentPage)+1,e.nextPage()}}(this),e.$watchGroup(["currentPage","tags"],this.fetchPosts)}return e}(),angular.module("imago").directive("imagoPager",["$http","$compile","$templateCache",imagoPager]).controller("imagoPagerController",["$scope","$element","$attrs","imagoModel",imagoPagerController]),angular.module("imago").run(["$templateCache",function(e){e.put("/imago/imagoPager.html",'<div class="pager"><button ng-disabled="currentPage &lt;= 1" ng-click="onPrev()" class="prev">Previous</button><button ng-disabled="(currentPage &gt;= totalPages &amp;&amp; !next) || (posts.length &lt; pageSize &amp;&amp; !next) || !next" ng-click="onNext()" class="next">Next</button></div>')}]);
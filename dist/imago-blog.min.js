var imagoPager;imagoPager=function(){function t(t,e,a,n){var r,u;return r="/imago/imagoPager.html",u=function(e){var n;return n=t.get(e,{cache:a})},{scope:{posts:"=",nextPage:"&next",prevPage:"&prev",path:"@",pageSize:"@",tags:"=",currentPage:"=",shuffle:"@"},controller:function(t,e,a){return this.fetchPosts=function(){var e,a,r,u;return this.count+=1,t.posts=[],r=parseInt(t.pageSize),a=parseInt(t.currentPage),u={path:t.path,page:a,pagesize:r},t.tags&&(u.tags=t.tags),(null!=u?u.path:void 0)&&_.includes(u.path,"/page/")&&(e=u.path.indexOf("/page/"),u.path=u.path.slice(0,e)),n.getData([u],{localData:!1}).then(function(e){return function(e){var a,n,u,o;for(o=[],n=0,u=e.length;u>n;n++){a=e[n],t.next=a.next,t.posts=t.shuffle?_.shuffle(a.assets):a.assets,t.totalPages=a.count/r;break}return o}}(this))},t.onPrev=function(e){return function(){return t.currentPage=parseInt(t.currentPage)-1,t.prevPage()}}(this),t.onNext=function(e){return function(){return t.currentPage=parseInt(t.currentPage)+1,t.nextPage()}}(this),t.$watchGroup(["currentPage","tags"],this.fetchPosts)},link:function(t,a,n){var o,g;return g=n.templateurl?n.templateurl:r,o=void 0,u(g).success(function(t){return o=t}).then(function(){return a.append(e(o)(t))})}}}return t}(),angular.module("imago").directive("imagoPager",["$http","$compile","$templateCache","imagoModel",imagoPager]),angular.module("imago").run(["$templateCache",function(t){t.put("/imago/imagoPager.html",'<div class="pager"><button ng-disabled="currentPage &lt;= 1" ng-click="onPrev()" class="prev">Previous</button><button ng-disabled="currentPage &gt;= totalPages || posts.length &lt; pageSize || !next" ng-click="onNext()" class="next">Next</button></div>')}]);
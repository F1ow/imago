var imagoPager,imagoPagerController;imagoPager=function(){function e(){return{scope:{state:"@",posts:"=",prevPage:"&prev",nextPage:"&next",path:"@",pageSize:"@",tags:"=",currentPage:"=",shuffle:"="},controller:"imagoPagerController as imagopager",bindToController:!0,templateUrl:function(e,t){return t.templateurl||"/imago/imago-pager.html"}}}return e}(),imagoPagerController=function(){function e(e,t,a,r){this.fetchPosts=function(e){return function(){var t,r;return e.count+=1,e.posts=[],e.pageSize=parseInt(e.pageSize),e.currentPage=parseInt(e.currentPage),e.state||(e.state="blog"),r={path:e.path,page:e.currentPage,pagesize:e.pageSize},e.tags&&(r.tags=e.tags),(null!=r?r.path:void 0)&&_.includes(r.path,"/page/")&&(t=r.path.indexOf("/page/"),r.path=r.path.slice(0,t)),a.getData([r],{localData:!1}).then(function(t){var a,r,g,n;for(n=[],r=0,g=t.length;g>r;r++){a=t[r],e.next=a.next,e.posts="true"===e.shuffle?_.shuffle(a.assets):a.assets,e.totalPages=a.count/e.pageSize;break}return n})}}(this),this.prevState=function(){return r.params.tag?r.go(this.state+".filtered.paged",{tag:r.params.tag,page:this.currentPage}):r.go(this.state+".paged",{page:this.currentPage})},this.nextState=function(){return r.params.tag?r.go(this.state+".filtered.paged",{tag:r.params.tag,page:this.currentPage}):r.go(this.state+".paged",{page:this.currentPage})},this.onPrev=function(e){return function(){return e.currentPage--,t.prev?e.prevPage():e.prevState()}}(this),this.onNext=function(e){return function(){return e.currentPage++,t.next?e.nextPage():e.nextState()}}(this),e.$watchGroup(["imagopager.currentPage","imagopager.tags"],this.fetchPosts)}return e}(),angular.module("imago").directive("imagoPager",[imagoPager]).controller("imagoPagerController",["$scope","$attrs","imagoModel","$state",imagoPagerController]),angular.module("imago").run(["$templateCache",function(e){e.put("/imago/imago-pager.html",'<div class="pager"><button ng-disabled="imagopager.currentPage &lt;= 1" ng-click="imagopager.onPrev()" class="prev">Previous</button><button ng-disabled="(imagopager.currentPage &gt;= imagopager.totalPages &amp;&amp; !imagopager.next) || (imagopager.posts.length &lt; imagopager.pageSize &amp;&amp; !imagopager.next) || !imagopager.next" ng-click="imagopager.onNext()" class="next">Next</button></div>')}]);
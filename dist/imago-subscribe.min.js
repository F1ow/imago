var ImagoSubscribe,ImagoSubscribeController;ImagoSubscribe=function(){function r(){return{require:"form",restrict:"A",transclude:!0,controller:"imagoSubscribeController as imagosubscribe",templateUrl:function(r,i){return i.templateurl||"/imago/imago-subscribe.html"}}}return r}(),ImagoSubscribeController=function(){function r(r,i,e){this.submit=function(o){var s;if(!o.$invalid)return s=i($attrs.imagoSubscribe)($scope),this.submitted=!0,r.post(e.host+"/api/subscribe",s).then(function(r){return function(i){return r.error=!1,console.log("response",i)}}(this),function(r){return this.error=!0,console.log("error",r)})}}return r}(),angular.module("imago").directive("imagoSubscribe",[ImagoSubscribe]).controller("imagoSubscribeController",["$http","$parse","imagoSettings",ImagoSubscribeController]),angular.module("imago").run(["$templateCache",function(r){r.put("/imago/imago-subscribe.html",'<div class="imago-subscribe"><div ng-transclude="ng-transclude" ng-hide="imagosubscribe.submitted &amp;&amp; !imagosubscribe.error"></div><div ng-show="imagosubscribe.submitted &amp;&amp; imagosubscribe.error" class="error">please try again later</div><div ng-show="imagosubscribe.submitted &amp;&amp; !imagosubscribe.error" class="submitted">subscription created</div></div>')}]);
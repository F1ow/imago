var ImagoSubscribe,ImagoSubscribeController;ImagoSubscribe=function(){function r(r,e,i,t,o){var s,n;return s="/imago/imago-subscribe.html",n=function(i){var t;return t=r.get(i,{cache:e})},{require:"form",transclude:!0,controller:"imagoSubscribeController as imagosubscribe",link:function(r,e,t){var o,a;return a=t.templateurl?t.templateurl:s,o=void 0,n(a).success(function(r){return o=r}).then(function(){return e.append(i(o)(r))})}}}return r}(),ImagoSubscribeController=function(){function r(r,e,i){this.submit=function(t){var o;if(!t.$invalid)return o=e($attrs.imagoSubscribe)($scope),this.submitted=!0,r.post(i.host+"/api/subscribe",o).then(function(r){return function(e){return r.error=!1,console.log("response",e)}}(this),function(r){return this.error=!0,console.log("error",r)})}}return r}(),angular.module("imago").directive("imagoSubscribe",["$http","$templateCache","$compile","$parse","imagoSettings",ImagoSubscribe]).controller("imagoSubscribeController",["$http","$parse","imagoSettings",ImagoSubscribeController]),angular.module("imago").run(["$templateCache",function(r){r.put("/imago/imago-subscribe.html",'<div class="imago-subscribe"><div ng-transclude="ng-transclude" ng-hide="imagosubscribe.submitted &amp;&amp; !imagosubscribe.error"></div><div ng-show="imagosubscribe.submitted &amp;&amp; imagosubscribe.error" class="error">please try again later</div><div ng-show="imagosubscribe.submitted &amp;&amp; !imagosubscribe.error" class="submitted">subscription created</div></div>')}]);
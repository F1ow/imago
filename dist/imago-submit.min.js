var imagoSubmit,__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};imagoSubmit=function(){function t(t,e,n){return{getxsrf:function(){var e;return e=n.host+"/getxsrf",t.get(e)},formToJson:function(t){var n,r,o,s,i;n=["message","subscribe"],s={},o="";for(r in t)i=t[r],__indexOf.call(n,r)<0&&(o+=""+e.titleCase(r)+": "+i+"<br><br>"),s[r]=i||"";return s.message=o+e.replaceNewLines(s.message||""),angular.toJson(s)},send:function(e){return this.getxsrf().then(function(r){return function(o){var s,i;return console.log("getxsrf success: ",o),i={"Nex-Xsrf":o.data},s=n.host+"/contact",t.post(s,r.formToJson(e),{headers:i}).then(function(t){return console.log("success: ",t),{status:!0,message:""}},function(t){return console.log("error: ",t),{status:!1,message:"could not connect to Server."}})}}(this),function(t){return console.log("getxsrf error: ",t),{status:!1,message:"could not connect to Server."}})}}}return t}(),angular.module("imago").service("imagoSubmit",["$http","imagoUtils","imagoSettings",imagoSubmit]);
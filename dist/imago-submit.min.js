var imagoSubmit,__indexOf=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1};imagoSubmit=function(){function t(t,n,e){return{getxsrf:function(){var n;return n=e.host+"/getxsrf",t.get(n)},formToJson:function(t){var e,o,r,s,i;e=["message","subscribe"],s={},r="";for(o in t)i=t[o],__indexOf.call(e,o)<0&&(r+=""+n.titleCase(o)+": "+i+"<br><br>"),s[o]=i||"";return s.message=r+n.replaceNewLines(s.message||""),angular.toJson(s)},send:function(n){var o;return o=e.host+"/contact",console.log("postUrl",o),t.post(o,this.formToJson(n)).then(function(){return function(t){return console.log("success: ",t),{status:!0,message:""}}}(this),function(t){return console.log("error: ",t),{status:!1,message:"could not connect to Server."}})}}}return t}(),angular.module("imago").service("imagoSubmit",["$http","imagoUtils","imagoSettings",imagoSubmit]);
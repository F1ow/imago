var imagoSlider;imagoSlider=function(){function n(n,e,r,t,o,c){return{transclude:!0,scope:!0,templateUrl:"/imago/imagoSlider.html",controller:function(n){return n.conf={animation:"fade",enablekeys:!0,enablearrows:!0,loop:!0,current:0,namespace:"slider",autoplay:0,next:null,prev:null}},link:function(e,t,a,i,u){var l,s;return l=t.children(),u(e,function(n){return l.append(n)}),angular.forEach(a,function(n,r){return("true"===n||"false"===n)&&(n=JSON.parse(n)),e.conf[r]=n}),e.conf.siblings=!(!e.conf.next||!e.conf.prev),e.currentIndex=c.path().indexOf("last")?e.conf.current:e.getLast(),e.clearInterval=function(){return e.conf.interval?o.cancel(e.conf.interval):void 0},e.goPrev=function(n){return _.isPlainObject(n)&&e.clearInterval(),e.conf.loop?e.conf.loop&&!e.conf.siblings?e.setCurrent(e.currentIndex>0?e.currentIndex-1:parseInt(a.length)-1):e.conf.loop&&e.conf.siblings?e.currentIndex>0?e.setCurrent(e.currentIndex-1):c.path(e.conf.prev):void 0:e.setCurrent(e.currentIndex>0?e.currentIndex-1:e.currentIndex)},e.goNext=function(n){return _.isPlainObject(n)&&e.clearInterval(),e.conf.loop?e.conf.loop&&!e.conf.siblings?e.setCurrent(e.currentIndex<parseInt(a.length)-1?e.currentIndex+1:0):e.conf.loop&&e.conf.siblings?e.currentIndex<parseInt(a.length)-1?e.setCurrent(e.currentIndex+1):c.path(e.conf.next):void 0:e.setCurrent(e.currentIndex<parseInt(a.length)-1?e.currentIndex+1:e.currentIndex)},e.getLast=function(){return parseInt(a.length)-1},e.getCurrent=function(){return e.currentIndex},e.setCurrent=function(){return function(r){return e.action=function(){switch(!1){case!(0===r&&e.currentIndex===parseInt(a.length)-1&&!e.conf.siblings):return"next";case!(r===parseInt(a.length)-1&&0===e.currentIndex&&!e.conf.siblings):return"prev";case!(r>e.currentIndex):return"next";case!(r<e.currentIndex):return"prev";default:return""}}(),e.currentIndex=r,n.$emit(e.conf.namespace+":changed",r)}}(this),_.isUndefined(a.autoplay)||e.$watch(a.autoplay,function(){return function(n){return parseInt(n)>0?e.conf.interval=o(e.goNext,parseInt(n)):e.clearInterval()}}(this)),e.conf.enablekeys&&r.on("keydown",function(n){switch(n.keyCode){case 37:return e.$apply(function(){return e.goPrev()});case 39:return e.$apply(function(){return e.goNext()})}}),s=n.$on(e.conf.namespace+":change",function(n,r){return e.clearInterval(),e.setCurrent(r)}),e.$on("$destroy",function(){return e.clearInterval(),s()})}}}return n}(),angular.module("imago").directive("imagoSlider",["$rootScope","$q","$document","imagoModel","$interval","$location",imagoSlider]),angular.module("imago").run(["$templateCache",function(n){n.put("/imago/imagoSlider.html",'<div ng-class="[conf.animation, action]" ng-swipe-left="goNext($event)" ng-swipe-right="goPrev($event)" class="imagoslider"><div ng-show="conf.enablearrows" ng-click="goPrev($event)" class="prev"></div><div ng-show="conf.enablearrows" ng-click="goNext($event)" class="next"></div></div>')}]);
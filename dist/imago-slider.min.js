var imagoSlider,imagoSliderController;imagoSlider=function(){function n(n,e,r,t){return{transclude:!0,scope:!0,templateUrl:"/imago/imagoSlider.html",controller:"imagoSliderController",link:function(o,c,a,i,l){var u,s,f;return s=c.children(),l(o,function(n,e){return s.append(n)}),angular.forEach(a,function(n,e){return("true"===n||"false"===n)&&(n=JSON.parse(n)),o.conf[e]=n}),o.conf.siblings=!(!o.conf.next||!o.conf.prev),o.currentIndex=t.path().indexOf("last")?parseInt(o.conf.current):o.getLast(),o.clearInterval=function(){return o.conf.interval?r.cancel(o.conf.interval):void 0},o.goPrev=function(n){return"object"==typeof n&&(o.clearInterval(),n.stopPropagation()),o.conf.loop?o.conf.loop&&!o.conf.siblings?o.setCurrent(o.currentIndex>0?o.currentIndex-1:parseInt(a.length)-1):o.conf.loop&&o.conf.siblings?o.currentIndex>0?o.setCurrent(o.currentIndex-1):t.path(o.conf.prev):void 0:o.setCurrent(o.currentIndex>0?o.currentIndex-1:o.currentIndex)},o.goNext=function(n){return"object"==typeof n&&(o.clearInterval(),n.stopPropagation()),o.conf.loop?o.conf.loop&&!o.conf.siblings?o.setCurrent(o.currentIndex<parseInt(a.length)-1?o.currentIndex+1:0):o.conf.loop&&o.conf.siblings?o.currentIndex<parseInt(a.length)-1?o.setCurrent(o.currentIndex+1):t.path(o.conf.next):void 0:o.setCurrent(o.currentIndex<parseInt(a.length)-1?o.currentIndex+1:o.currentIndex)},o.getLast=function(){return parseInt(a.length)-1},o.getCurrent=function(){return o.currentIndex},o.setCurrent=function(e){return function(e){return o.action=function(){switch(!1){case!(0===e&&o.currentIndex===parseInt(a.length)-1&&!o.conf.siblings):return"next";case!(e===parseInt(a.length)-1&&0===o.currentIndex&&!o.conf.siblings):return"prev";case!(e>o.currentIndex):return"next";case!(e<o.currentIndex):return"prev";default:return""}}(),o.currentIndex=e,n.$emit(o.conf.namespace+":changed",e)}}(this),_.isUndefined(a.autoplay)||o.$watch(a.autoplay,function(n){return function(n){return parseInt(n)>0?o.conf.interval=r(o.goNext,parseInt(n)):o.clearInterval()}}(this)),u=function(n){switch(n.keyCode){case 37:return o.$apply(function(){return o.goPrev()});case 39:return o.$apply(function(){return o.goNext()})}},o.conf.enablekeys&&e.on("keydown",u),f=n.$on(o.conf.namespace+":change",function(n,e){return o.clearInterval(),o.setCurrent(e)}),o.$on("$destroy",function(){return e.off("keydown",u),o.clearInterval(),f()})}}}return n}(),imagoSliderController=function(){function n(n){n.conf={animation:"fade",enablekeys:!0,enablearrows:!0,loop:!0,current:0,namespace:"slider",autoplay:0,next:null,prev:null}}return n}(),angular.module("imago").directive("imagoSlider",["$rootScope","$document","$interval","$location",imagoSlider]).controller("imagoSliderController",["$scope",imagoSliderController]),angular.module("imago").run(["$templateCache",function(n){n.put("/imago/imagoSlider.html",'<div ng-class="[conf.animation, action]" ng-swipe-left="goNext($event)" ng-swipe-right="goPrev($event)" class="imagoslider"><div ng-show="conf.enablearrows" ng-click="goPrev($event)" class="prev"></div><div ng-show="conf.enablearrows" ng-click="goNext($event)" class="next"></div></div>')}]);